<h1>üí∏ –ú–æ–∏ —Ç—Ä–∞—Ç—ã</h1>

<div style="margin-bottom: 1rem;">
  <%= form_with url: transactions_path, method: :post, data: { turbo: true, controller: "voice-input" }, class: "expense-form" do %>
    <%= text_field_tag :input_text, @input_text, placeholder: "–ù–∞–ø—Ä–∏–º–µ—Ä: –ö—É–ø–∏–ª –º–æ–ª–æ–∫–æ –∑–∞ 120 —Ä—É–±", class: "input", data: { voice_input_target: "input" } %>
    <button type="button" data-voice-input-target="startButton" data-action="voice-input#startRecording" class="button">üé§ –ù–∞—á–∞—Ç—å</button>
    <button type="button" data-voice-input-target="stopButton" data-action="voice-input#endRecording" class="button hidden">‚èπ –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
    <button type="button" data-voice-input-target="breakButton" data-action="voice-input#breakRecording" class="button hidden">‚ùå –û—Ç–º–µ–Ω–∏—Ç—å</button>
  <% end %>
</div>

<%= turbo_frame_tag "transactions_table" do %>
  <table class="expense-table">
    <thead>
    <tr>
      <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
      <th>–°—É–º–º–∞</th>
      <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
    </tr>
    </thead>
    <tbody>
    <% @transactions.each do |t| %>
      <tr>
        <td><%= t.description %></td>
        <td><%= number_to_currency(t.amount, unit: "‚ÇΩ") %></td>
        <td><%= t.category %></td>
      </tr>
    <% end %>
    </tbody>
  </table>
<% end %>
<%= link_to "üìÇ –ú–æ–∏ —Ç—Ä–∞—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º", report_transactions_path %>